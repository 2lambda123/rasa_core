
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Quickstart</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/banner.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Installation" href="../installation/" />
    <link rel="prev" title="The Rasa Core dialogue engine" href="../" />

 <!-- Google Tag Manager -->
    <script type="opt-in" data-type="application/javascript" data-name="googletagmanager">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MMHSZCS');</script>
    <!-- End Google Tag Manager -->
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
  <meta itemprop="image" content="https://rasa.com/assets/img/facebook-og.png">
  <meta property="og:title" content="Quickstart" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://rasa.com/assets/img/facebook-og.png" />
  <meta property="og:url" content="https://rasa.com/docs/core/quickstart" />
  
    <meta name="description" content="None" />
    <meta itemprop="description" content="None">
    <meta name="twitter:description" content="None" />
    <meta property="og:description" content="None" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Rasa_HQ">
  <meta name="twitter:title" content="Quickstart">
  <meta name="twitter:creator" content="@Rasa_HQ">
  <meta name="twitter:image" content="https://rasa.com/assets/img/facebook-og.png">

  <link rel="stylesheet" href="../_static/xq-light.css" type="text/css" />
  <link rel="stylesheet" href="../_static/fontawesome/css/fontawesome-all.css" type="text/css" />
  <script defer type="text/javascript" src="../_static/config.js"></script>
  <script defer type="text/javascript" src="../_static/klaro.js"></script>
  <script type="text/javascript" src="https://storage.googleapis.com/docs-theme/clipboard.min.js"></script>
  
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head><body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe data-name="googletagmanager" data-src="https://www.googletagmanager.com/ns.html?id=GTM-MMHSZCS" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="nav-top">
  <div class="nav-container">
    <a href="/docs" class="brand-link">
        <h1 class="brand">
            <img src="../_static/rasa_logo.svg" width="80px" height="40px" title="Rasa logo" alt="Rasa logo">
        </h1>
        <span class="logo extension">docs</span>
    </a>

    <ul class="nav">
      <input type="text" class="search" placeholder="Search">
      
        
          <li><a href=/docs/nlu/>NLU</a></li>
        
      
        
          <li class="active"><a href=/docs/core/>Core</a></li>
        
      
        
          <li><a href=/docs/platform/>Platform</a></li>
        
      

      <li>
        <a href="https://github.com/rasaHQ/" target="_blank"><button class="button btn-ghost btn-small"> <i class="fab fa-github"></i>GitHub</button></a>
      </li>

      <li>
        <a href="https://forum.rasa.com" target="_blank"><button class="button btn-small">Ask the Community</button></a>
      </li>

    </ul>
  </div>
</div>

  <div class="sidebar-extended"></div>
  <div class="document">

    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/">High-Level Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/">Chat &amp; Voice platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customactions/">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slots/">Using Slots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slotfilling/">Slot Filling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../responses/">Bot Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_learning/">Interactive Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fallbacks/">Fallback Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../policies/">Training and Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../evaluation/">Evaluating and Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker_walkthrough/">Building Rasa with Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../domains/">Domain Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stories/">Story Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/slots_api/">Slot Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/agent/">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/events/">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tracker/">Dialogue State Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/interpreter/">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/policy/">Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/featurizer/">Featurization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/dispatcher/">Dispatcher</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../migrations/">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tracker_stores/">Tracker Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../brokers/">Event Brokers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/">Using Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/">Getting Support</a></li>
</ul>

<div class="versions">
    <p class="caption">Versions</p>
    <div class="versions-content">
      <div>
        <span class="current-version">
          viewing: 0.13.2
        </span>
      </div>
      <div class="other-versions">
          <p>tags</p>
          <div class="dropdown-content">
              <a href="../../0.14.1/quickstart/">0.14.1</a>
              <a href="../../0.14.0/quickstart/">0.14.0</a>
              <a href="../../0.13.8/quickstart/">0.13.8</a>
              <a href="../../0.13.7/quickstart/">0.13.7</a>
              <a href="../../0.13.6/quickstart/">0.13.6</a>
              <a href="../../0.13.5/quickstart/">0.13.5</a>
              <a href="../../0.13.4/quickstart/">0.13.4</a>
              <a href="../../0.13.3/quickstart/">0.13.3</a>
              <a href="../../0.13.2/quickstart/">0.13.2</a>
              <a href="../../0.13.1/quickstart/">0.13.1</a>
              <a href="../../0.13.0/quickstart/">0.13.0</a>
              <a href="../../0.12.4/quickstart/">0.12.4</a>
              <a href="../../0.12.3/quickstart/">0.12.3</a>
              <a href="../../0.12.2/quickstart/">0.12.2</a>
              <a href="../../0.12.1/quickstart/">0.12.1</a>
              <a href="../../0.12.0/quickstart/">0.12.0</a>
              <a href="../../0.11.12/quickstart/">0.11.12</a>
              <a href="../../0.10.4/quickstart/">0.10.4</a>
              <a href="../../0.9.8/index/">0.9.8</a>
              <a href="../../0.8.6/index/">0.8.6</a>
              <a href="../../0.7.9/index/">0.7.9</a>
              <a href="../../0.6.9/index/">0.6.9</a>
          </div>
          <p>branches</p>
          <div class="dropdown-content">
              <a href="../../master/quickstart/">master</a>
          </div>
      </div>
    </div>
</div>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  


    
    



    <p class="scv-banner"><a href="../../0.14.1/quickstart/"><b>Warning:</b> This document is for an old version of Rasa Core. The latest version is 0.14.1.</a></p>
<div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This tutorial will show you the different parts needed to build a bot.
You can run the code directly in the documentation, without
installing anything! If you would like to run this locally, go to
the <a class="reference internal" href="../installation/#installation"><span class="std std-ref">Installation</span></a> first.</p>
</div>
<p>In this tutorial you will create your first Rasa Core bot.
You can run all of the code snippets in here directly, or
you can install Rasa Core and run the examples on your own machine.</p>
<div class="section" id="goal">
<h2>Goal<a class="headerlink" href="#goal" title="Permalink to this headline">¶</a></h2>
<p>The bot will ask you how you’re doing, and send a picture to
try and cheer you up if you are sad.</p>
<img alt="../_images/mood_bot.png" src="../_images/mood_bot.png" />
</div>
<div class="section" id="write-stories">
<h2>1. Write Stories<a class="headerlink" href="#write-stories" title="Permalink to this headline">¶</a></h2>
<p>A good place to start is by writing a few stories.
Rasa Core works by learning from example conversations, and we’ll
write the first few examples ourselves to kick things off.</p>
<p>In this very simple conversation, the user says hello to our bot, and the bot
says hello back. This is how it looks as a story:</p>
<div class="highlight-story notranslate"><div class="highlight"><pre><span></span><span class="gh">## story1</span>
<span class="vm">* greet</span>
<span class="vm">   </span>- utter_greet
</pre></div>
</div>
<p>A story starts with <code class="docutils literal notranslate"><span class="pre">##</span></code> followed by a name (the name is optional).
lines that start with <code class="docutils literal notranslate"><span class="pre">*</span></code> are messages sent by the user.
Although you don’t write the actual message, but rather
the intent (and the entities) that represent what the user <cite>means</cite>.
If you don’t know about intents and entities, don’t worry!
We will talk about them more later.
Lines that start with <code class="docutils literal notranslate"><span class="pre">-</span></code> are actions taken by your bot.
In this case all of our actions are just messages sent back to the user,
like <code class="docutils literal notranslate"><span class="pre">utter_greet</span></code>, but in general an action can do anything,
including calling an API and interacting with the outside world.</p>
<p>We’ve written some example stories below, which we can write to a
file called <code class="docutils literal notranslate"><span class="pre">stories.md</span></code> If you are running this in the docs, it
may take a few seconds to start up. If you are running locally,
copy the text between the triple quotes (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code>)
and save it in a file called <code class="docutils literal notranslate"><span class="pre">stories.md</span></code>.</p>


  <pre data-executable>stories_md = """
## happy path
* greet
  - utter_greet
* mood_great
  - utter_happy

## sad path 1
* greet
  - utter_greet
* mood_unhappy
  - utter_cheer_up
  - utter_did_that_help
* mood_affirm
  - utter_happy

## sad path 2
* greet
  - utter_greet
* mood_unhappy
  - utter_cheer_up
  - utter_did_that_help
* mood_deny
  - utter_goodbye

## say goodbye
* goodbye
  - utter_goodbye
"""
%store stories_md > stories.md

print("Done!")</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-write-stories' })
    document.addEventListener('core-write-stories', event => {
      if (event.detail.status == 'executing') {
        console.error("core-write-stories");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-write-stories"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script></div>
<div class="section" id="define-a-domain">
<h2>2. Define a Domain<a class="headerlink" href="#define-a-domain" title="Permalink to this headline">¶</a></h2>
<p>The next thing we need to do is define a <code class="docutils literal notranslate"><span class="pre">Domain</span></code>.
The domain defines the universe your bot lives in.</p>
<p>Here is an example domain for our bot which we’ll write to a
file called <code class="docutils literal notranslate"><span class="pre">domain.yml</span></code>:</p>


  <pre data-executable>domain_yml = """
intents:
  - greet
  - goodbye
  - mood_affirm
  - mood_deny
  - mood_great
  - mood_unhappy

actions:
- utter_greet
- utter_cheer_up
- utter_did_that_help
- utter_happy
- utter_goodbye

templates:
  utter_greet:
  - text: "Hey! How are you?"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great carry on!"

  utter_goodbye:
  - text: "Bye"
"""
%store domain_yml > domain.yml

print("Done!")</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-write-domain' })
    document.addEventListener('core-write-domain', event => {
      if (event.detail.status == 'executing') {
        console.error("core-write-domain");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-write-domain"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script><p>So what do the different parts mean?</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">intents</span></code></td>
<td>things you expect users to say. See
<a class="reference external" href="https://rasa.com/docs/nlu/">Rasa NLU</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">actions</span></code></td>
<td>things your bot can do and say</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">templates</span></code></td>
<td>template strings for the things your bot can say</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">entities</span></code></td>
<td>pieces of info you want to extract from messages. See
<a class="reference external" href="https://rasa.com/docs/nlu/">Rasa NLU</a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">slots</span></code></td>
<td>information to keep track of during a conversation
(e.g. a users age) - see <a class="reference internal" href="../slots/#slots"><span class="std std-ref">Using Slots</span></a></td>
</tr>
</tbody>
</table>
<p><strong>How does this fit together?</strong>
Rasa Core’s job is to choose the right action to execute at each step
of the conversation. Simple actions are just sending a message to a user.
These simple actions are the <code class="docutils literal notranslate"><span class="pre">actions</span></code> in the domain, which start
with <code class="docutils literal notranslate"><span class="pre">utter_</span></code>. They will just respond with a message based on a template
from the <code class="docutils literal notranslate"><span class="pre">templates</span></code> section. See <a class="reference internal" href="../customactions/#customactions"><span class="std std-ref">Actions</span></a> for how to build
more interesting actions.</p>
<p>In our simple example we don’t need <code class="docutils literal notranslate"><span class="pre">slots</span></code> and <code class="docutils literal notranslate"><span class="pre">entities</span></code>,
so these aren’t in the example domain.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is one additional special action, <code class="docutils literal notranslate"><span class="pre">ActionListen</span></code>,
which means to stop taking further actions until the user
says something else. You don’t have to include it in
your <code class="docutils literal notranslate"><span class="pre">domain.yml</span></code> - it is an action included by default.</p>
</div>
</div>
<div class="section" id="train-a-dialogue-model">
<h2>3. Train a Dialogue Model<a class="headerlink" href="#train-a-dialogue-model" title="Permalink to this headline">¶</a></h2>
<p>The next step is to train a neural network on our example stories.
To do this, run the command below. If you are running this on your machine,
leave out the <code class="docutils literal notranslate"><span class="pre">!</span></code> at the start. This will train the dialogue model and store it
into <code class="docutils literal notranslate"><span class="pre">models/dialogue</span></code>.</p>


  <pre data-executable>!python -m rasa_core.train -d domain.yml -s stories.md -o models/dialogue

print("Finished training!")</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-train-core' })
    document.addEventListener('core-train-core', event => {
      if (event.detail.status == 'executing') {
        console.error("core-train-core");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-train-core"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script></div>
<div class="section" id="talking-to-your-bot">
<h2>4. Talking To Your Bot<a class="headerlink" href="#talking-to-your-bot" title="Permalink to this headline">¶</a></h2>
<p>Now we can use that trained dialogue model to run our bot.
We haven’t included an NLU model yet, though, so we have to send
structured data to our bot directly.</p>
<p>You can play around with the bot, directly sending in the intents in the domain.
To do this, start your message with a <code class="docutils literal notranslate"><span class="pre">/</span></code>.
Give it a try by sending the message <code class="docutils literal notranslate"><span class="pre">/greet</span></code>.</p>
<p>If you are running these commands locally, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m rasa_core.run -d models/dialogue
</pre></div>
</div>
<p>If you are running the cells here in the docs, run this cell:</p>
<p><strong>This will not work if you haven’t run the cells above!</strong></p>


  <pre data-executable>import IPython
from IPython.display import clear_output, HTML, display
from rasa_core.agent import Agent
import time

messages = ["Hi! you can chat in this window. Type 'stop' to end the conversation."]
agent = Agent.load('models/dialogue')

def chatlogs_html(messages):
    messages_html = "".join(["&lt;p&gt;{}&lt;/p&gt;".format(m) for m in messages])
    chatbot_html = """&lt;div class="chat-window" {}&lt;/div&gt;""".format(messages_html)
    return chatbot_html


while True:
    clear_output()
    display(HTML(chatlogs_html(messages)))
    time.sleep(0.3)
    a = input()
    messages.append(a)
    if a == 'stop':
        break
    responses = agent.handle_message(a)
    for r in responses:
        messages.append(r.get("text"))</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-chat-without-nlu' })
    document.addEventListener('core-chat-without-nlu', event => {
      if (event.detail.status == 'executing') {
        console.error("core-chat-without-nlu");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-chat-without-nlu"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script></div>
<div class="section" id="add-nlu">
<h2>5. Add NLU<a class="headerlink" href="#add-nlu" title="Permalink to this headline">¶</a></h2>
<p>Of course you want your bot to understand real language, not just structured input.</p>
<p>An interpreter is responsible for parsing messages. It performs the Natural
Language Understanding (NLU) and transforms the message into structured output.
In this example we are going to use Rasa NLU for this purpose.</p>
<p>In Rasa NLU, we need to define the user messages our bot should be able to
handle in the <a class="reference external" href="https://rasa.com/docs/nlu/dataformat/">Rasa NLU training data format</a>.
In this tutorial we are going to use Markdown Format for NLU training data.
Let’s create some intent examples in a file called <code class="docutils literal notranslate"><span class="pre">nlu.md</span></code>:</p>


  <pre data-executable>nlu_md = """
## intent:greet
- hey
- hello
- hi
- good morning
- good evening
- hey there

## intent:goodbye
- bye
- goodbye
- see you around
- see you later

## intent:mood_affirm
- yes
- indeed
- of course
- that sounds good
- correct

## intent:mood_deny
- no
- never
- I don't think so
- don't like that
- no way
- not really

## intent:mood_great
- perfect
- very good
- great
- amazing
- wonderful
- I am feeling very good
- I am great
- I'm good

## intent:mood_unhappy
- sad
- very sad
- unhappy
- bad
- very bad
- awful
- terrible
- not very good
- extremely sad
- so sad
"""
%store nlu_md > nlu.md

print("Done!")</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-write-nlu-data' })
    document.addEventListener('core-write-nlu-data', event => {
      if (event.detail.status == 'executing') {
        console.error("core-write-nlu-data");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-write-nlu-data"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script><p>Furthermore, we need a configuration file, <code class="docutils literal notranslate"><span class="pre">nlu_config.yml</span></code>, for the
NLU model:</p>


  <pre data-executable>nlu_config = """
language: en
pipeline: tensorflow_embedding
"""
%store nlu_config > nlu_config.yml

print("Done!")</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-write-nlu-config' })
    document.addEventListener('core-write-nlu-config', event => {
      if (event.detail.status == 'executing') {
        console.error("core-write-nlu-config");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-write-nlu-config"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script><p>We can now train an NLU model using our examples (make sure to
<a class="reference external" href="http://rasa.com/docs/nlu/installation/">install Rasa NLU</a>
first).</p>
<p>Let’s run</p>


  <pre data-executable>!python -m rasa_nlu.train -c nlu_config.yml --data nlu.md -o models --fixed_model_name nlu --project current --verbose</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-train-nlu' })
    document.addEventListener('core-train-nlu', event => {
      if (event.detail.status == 'executing') {
        console.error("core-train-nlu");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-train-nlu"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script><p>to train our NLU model. A new directory <code class="docutils literal notranslate"><span class="pre">models/current/nlu</span></code> should have been
created containing the NLU model. Note that <code class="docutils literal notranslate"><span class="pre">current</span></code> stands for project name,
since this is specified in the train command.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To learn more about Rasa NLU
head over to the <a class="reference external" href="https://rasa.com/docs/nlu/">Rasa NLU documentation</a>.</p>
</div>
</div>
<div class="section" id="id3">
<h2>6. Talking To Your Bot<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Now that we’ve added an NLU model, you can talk to your bot using natural language,
rather than typing in structured input. Let’s start up your full bot, including
both Rasa Core and Rasa NLU models!</p>
<p>If you are running these commands locally, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m rasa_core.run -d models/dialogue -u models/current/nlu
</pre></div>
</div>
<p>If you are running the cells here in the docs, run this cell:</p>
<p><strong>This will not work if you haven’t run the cells above!</strong></p>


  <pre data-executable>import IPython
from IPython.display import clear_output, HTML, display
from rasa_core.agent import Agent
from rasa_core.interpreter import RasaNLUInterpreter
import time

interpreter = RasaNLUInterpreter('models/current/nlu')
messages = ["Hi! you can chat in this window. Type 'stop' to end the conversation."]
agent = Agent.load('models/dialogue', interpreter=interpreter)

def chatlogs_html(messages):
    messages_html = "".join(["&lt;p&gt;{}&lt;/p&gt;".format(m) for m in messages])
    chatbot_html = """&lt;div class="chat-window" {}&lt;/div&gt;""".format(messages_html)
    return chatbot_html


while True:
    clear_output()
    display(HTML(chatlogs_html(messages)))
    time.sleep(0.3)
    a = input()
    messages.append(a)
    if a == 'stop':
        break
    responses = agent.handle_message(a)
    for r in responses:
        messages.append(r.get("text"))</pre>
  <script src="https://storage.googleapis.com/docs-theme/juniper.min.js"></script>
  <script>
    new Juniper({ repo: 'RasaHQ/rasa_core', branch: 'master', isolateCells: false , theme: 'xq-light', eventName: 'core-chat-with-nlu' })
    document.addEventListener('core-chat-with-nlu', event => {
      if (event.detail.status == 'executing') {
        console.error("core-chat-with-nlu");
	console.error(JSON.stringify(event));
        console.error(event.currentTarget)
        gtag('event', 'execute-code-snippet', {
          'event_category': 'code',
          'event_label': "core-chat-with-nlu"
        });
      }
      if (event.detail.status == 'failed') {
        gtag('event', e.action, {
          'event_category': 'code',
          'event_label': e.text
        });
      }
    })
  </script><p>Congratulations 🚀! You just built a bot from scratch,
powered entirely by machine learning.
Why not play around with the code above?</p>
<ol class="arabic simple">
<li>Teach your bot to understand you better. Add more NLU data, retrain the NLU model and restart your bot.</li>
<li>Add some more stories to provide more examples of how your bot should behave. Then retrain the Rasa Core model to try it!</li>
<li>Edit the response templates in the domain, retrain your model and see the results!</li>
</ol>
<p>There is a lot more you can do with Rasa Core, so go and read the sections
in the User Guide next.</p>
<div class="rating-container">
    <div class="rating-text">
      <p> How was the tutorial? Click to Vote </p>
    </div>
      <form class="rating-form">
        <label for="great" onclick="gtag('event', 'docs_tutorial_satisfaction', { event_category: 'core_docs_satisfaction', event_action: 'click', event_label: 'great'} );">
            <input type="radio" name="rating" class="great" id="great" value="great" />
            <svg viewBox="0 0 24 24"><path d="M12,17.5C14.33,17.5 16.3,16.04 17.11,14H6.89C7.69,16.04 9.67,17.5 12,17.5M8.5,11A1.5,1.5 0 0,0 10,9.5A1.5,1.5 0 0,0 8.5,8A1.5,1.5 0 0,0 7,9.5A1.5,1.5 0 0,0 8.5,11M15.5,11A1.5,1.5 0 0,0 17,9.5A1.5,1.5 0 0,0 15.5,8A1.5,1.5 0 0,0 14,9.5A1.5,1.5 0 0,0 15.5,11M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
            <span style="display: block;"> Great! </span>
        </label>

        <label for="didnt-work" onclick="gtag('event', 'docs_tutorial_satisfaction', { event_category: 'core_docs_satisfaction', event_action: 'click', event_label: 'didnt-work'} );">
            <input type="radio" name="rating" class="didnt-work" id="didnt-work" value="didnt-work" />
            <svg viewBox="0 0 24 24"><path d="M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M16.18,7.76L15.12,8.82L14.06,7.76L13,8.82L14.06,9.88L13,10.94L14.06,12L15.12,10.94L16.18,12L17.24,10.94L16.18,9.88L17.24,8.82L16.18,7.76M7.82,12L8.88,10.94L9.94,12L11,10.94L9.94,9.88L11,8.82L9.94,7.76L8.88,8.82L7.82,7.76L6.76,8.82L7.82,9.88L6.76,10.94L7.82,12M12,14C9.67,14 7.69,15.46 6.89,17.5H17.11C16.31,15.46 14.33,14 12,14Z" /></svg>
            <span style="display: block;"> Didn't Work </span>
        </label>

        <label for="didnt-finish" onclick="gtag('event', 'docs_tutorial_satisfaction', { event_category: 'core_docs_satisfaction', event_action: 'click', event_label: 'didnt-finish'} );">
            <input type="radio" name="rating" class="didnt-finish" id="didnt-finish" value="didnt-finish" />
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100%" height="100%" viewBox="0 0 24 24"><path d="M8.5,11A1.5,1.5 0 0,1 7,9.5A1.5,1.5 0 0,1 8.5,8A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 8.5,11M15.5,11A1.5,1.5 0 0,1 14,9.5A1.5,1.5 0 0,1 15.5,8A1.5,1.5 0 0,1 17,9.5A1.5,1.5 0 0,1 15.5,11M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M9,14H15A1,1 0 0,1 16,15A1,1 0 0,1 15,16H9A1,1 0 0,1 8,15A1,1 0 0,1 9,14Z" /></svg>
            <span style="display: block;"> Didn't Finish </span>
        </label>

      </form>
    </div>

</div>
<div class="section" id="bonus-handle-messages-from-facebook">
<h2>Bonus: Handle messages from Facebook<a class="headerlink" href="#bonus-handle-messages-from-facebook" title="Permalink to this headline">¶</a></h2>
<p>If you want to handle input from Facebook instead of the command line, you can
specify that as part of the run command, after creating a credentials file
containing the information to connect to facebook. Let’s put that
into <code class="docutils literal notranslate"><span class="pre">credentials.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">facebook</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">verify</span><span class="p p-Indicator">:</span> <span class="s">&quot;rasa-bot&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">secret</span><span class="p p-Indicator">:</span> <span class="s">&quot;3e34709d01ea89032asdebfe5a74518&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">page-access-token</span><span class="p p-Indicator">:</span> <span class="s">&quot;EAAbHPa7H9rEBAAuFk4Q3gPKbDedQnx4djJJ1JmQ7CAqO4iJKrQcNT0wtD&quot;</span>
</pre></div>
</div>
<p>If you are new to Facebook Messenger bots, head over to
<a class="reference internal" href="../connectors/#facebook-connector"><span class="std std-ref">Facebook Setup</span></a> for an explanation of the different values.</p>
<p>After setting that up, we can now run the bot using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m rasa_core.run -d models/dialogue -u models/nlu/current <span class="se">\</span>
   --port <span class="m">5002</span>--credentials credentials.yml
</pre></div>
</div>
<p>and it will now handle messages users send to the Facebook page.</p>
<p>If you want to send buttons to the user like in the picture at the top of
this tutorial, update the <code class="docutils literal notranslate"><span class="pre">utter_greet</span></code> template in your domain to look like
this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">templates</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">utter_greet</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">text</span><span class="p p-Indicator">:</span> <span class="s">&quot;Hey!</span><span class="nv"> </span><span class="s">How</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">you?&quot;</span>
    <span class="l l-Scalar l-Scalar-Plain">buttons</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="s">&quot;great&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">payload</span><span class="p p-Indicator">:</span> <span class="s">&quot;great&quot;</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="s">&quot;super</span><span class="nv"> </span><span class="s">sad&quot;</span>
      <span class="l l-Scalar l-Scalar-Plain">payload</span><span class="p p-Indicator">:</span> <span class="s">&quot;super</span><span class="nv"> </span><span class="s">sad&quot;</span>
</pre></div>
</div>
<div class="section" id="have-questions-or-feedback">
<h3>Have questions or feedback?<a class="headerlink" href="#have-questions-or-feedback" title="Permalink to this headline">¶</a></h3>
<p>We have a very active support community on <a class="reference external" href="https://forum.rasa.com">Rasa Community Forum</a>
that is happy to help you with your questions. If you have any feedback for us or a specific
suggestion for improving the docs, feel free to share it by creating an issue on Rasa Core
<a class="reference external" href="https://github.com/RasaHQ/rasa_core/issues">GitHub repository</a>.</p>
</div>
</div>
</div>


	    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
	    <script type="text/javascript"> docsearch({
	     apiKey: '1f9e0efb89e98543f6613a60f847b176',
	     indexName: 'rasa',
	     inputSelector: 'body > div.nav-top > .nav-container > .nav > input',
	     debug: false // Set debug to true if you want to inspect the dropdown
	    });
	    </script>
          </div>

          <div class="footer">

            <div class="social">
              <a href="https://github.com/RasaHQ" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
              <a href="https://stackoverflow.com/search?q=rasa" target="_blank" title="Stack Overflow"><i class="fab fa-stack-overflow"></i></a>
              <a href="https://www.youtube.com/channel/UCJ0V6493mLvqdiVwOKWBODQ" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
              <a href="https://twitter.com/rasa_hq" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>
            </div>

            <div class="copyright small">
            &copy;2018, Rasa Technologies GmbH | <a href="https://rasa.com/imprint/" target="_blank">Imprint</a> | <a href="https://rasa.com/privacy-policy/" target="_blank">Privacy Policy</a>
            
            </div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>

    

  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag(...arguments) {
      dataLayer.push(...arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-87333416-1', {
      'anonymize_ip': true,
    });
  </script>
  <script src="https://rasa.com/assets/js/js.cookies.js"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script type="opt-in" data-name="googleanalytics" data-type="text/javascript" data-src="https://www.googletagmanager.com/gtag/js?id=UA-87333416-1"></script>
  <script type="opt-in" data-name="googleanalytics" data-type="text/javascript" data-src="https://rasa.com/assets/js/userId.js"></script>

  <script type="text/javascript">
    var clipboard = new ClipboardJS('.copyable');
    clipboard.on('success', function(e) {
      gtag('event', e.action, {
        'event_category': 'code',
        'event_label': e.text
      });
      const id = e.text.replace(' ','-');
      document.getElementById(id).classList.add('visible');
      setTimeout(function(){
        document.getElementById(id).classList.remove('visible');},
        800
      );
    });
    clipboard.on('error', function(e) {
      console.log(e);
    });
  </script>

  <!-- onsite anchor fix (otherwise anchors scroll to far) -->
  <script>
    /* Adapted from https://stackoverflow.com/a/13067009/1906073 */
    (function(document, history, location) {
      var HISTORY_SUPPORT = !!(history && history.pushState);

      var anchorScrolls = {
        ANCHOR_REGEX: /^#[^ ]+$/,
        OFFSET_HEIGHT_PX: 66,

        /**
         * Establish events, and fix initial scroll position if a hash is provided.
         */
        init: function() {
          this.scrollToCurrent();
          $(window).on('hashchange', $.proxy(this, 'scrollToCurrent'));
          $('body').on('click', 'a', $.proxy(this, 'delegateAnchors'));
        },

        /**
         * Return the offset amount to deduct from the normal scroll position.
         * Modify as appropriate to allow for dynamic calculations
         */
        getFixedOffset: function() {
          return this.OFFSET_HEIGHT_PX;
        },

        /**
         * If the provided href is an anchor which resolves to an element on the
         * page, scroll to it.
         * @param  {String} href
         * @return {Boolean} - Was the href an anchor.
         */
        scrollIfAnchor: function(href, pushToHistory) {
          var match, anchorOffset;

          if(!this.ANCHOR_REGEX.test(href)) {
            return false;
          }

          match = document.getElementById(href.slice(1));

          if(match) {
            anchorOffset = $(match).offset().top - this.getFixedOffset();
            $('html, body').animate({ scrollTop: anchorOffset});

            // Add the state to history as-per normal anchor links
            if(HISTORY_SUPPORT && pushToHistory) {
              history.pushState({}, document.title, location.pathname + href);
            }
          }

          return !!match;
        },

        /**
         * Attempt to scroll to the current location's hash.
         */
        scrollToCurrent: function(e) {
          if(this.scrollIfAnchor(window.location.hash) && e) {
            e.preventDefault();
          }
        },

        /**
         * If the click event's target was an anchor, fix the scroll position.
         */
        delegateAnchors: function(e) {
          var elem = e.target;

          if(this.scrollIfAnchor(elem.getAttribute('href'), true)) {
            e.preventDefault();
          }
        }
      };

      $(document).ready($.proxy(anchorScrolls, 'init'));
    })(window.document, window.history, window.location);

  </script>
  </body>
</html>