

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Plumbing - How it all fits together &mdash; Rasa Core 0.7.0a9 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex/"/>
        <link rel="search" title="Search" href="../search/"/>
    <link rel="top" title="Rasa Core 0.7.0a9 documentation" href="../"/>
        <link rel="next" title="Rasa Core as a HTTP server" href="../http/"/>
        <link rel="prev" title="Common Patterns" href="../patterns/"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> Rasa Core
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../read_first/">Read this first</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/">Installation and Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tour/">A Quick Tour (no ML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_scratch/">A Bot From Scratch</a></li>
</ul>
<p class="caption"><span class="caption-text">More Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_babi/">Supervised Learning Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_fake_user/">Interactive Learning with a Fake User</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Dives</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../patterns/">Common Patterns</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Plumbing - How it all fits together</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/">Rasa Core as a HTTP server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../domains/">Domain, Slots, and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/">Connecting to messaging &amp; voice platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stories/">Training Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduling/">Scheduling Reminders</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/agent/">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/events/">Events</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../featurisation/">Featurization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpreters/">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../policies/">Creating Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../state/">Tracking Conversation State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Rasa Core</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../">Docs</a> &raquo;</li>
        
      <li>Plumbing - How it all fits together</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/plumbing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><b>Warning:</b> This document is for an old version of Rasa Core.</p>

<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="plumbing-how-it-all-fits-together">
<span id="plumbing"></span><h1>Plumbing - How it all fits together<a class="headerlink" href="#plumbing-how-it-all-fits-together" title="Permalink to this headline">¶</a></h1>
<p>This diagram shows the basic steps of how a Rasa Core app responds to a message:</p>
<img alt="../_images/intro_1.png" src="../_images/intro_1.png" />
<p>The steps are:</p>
<ol class="arabic simple">
<li>The message is received and passed to an <code class="docutils literal notranslate"><span class="pre">Interpreter</span></code>, which converts it into a dictionary
including the original text, the intent, and any entities that were found.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Tracker</span></code> is the object which keeps track of conversation state.
It receives the info that a new message has come in.</li>
<li>The policy receives the current state of the tracker</li>
<li>The policy chooses which action to take next.</li>
<li>The chosen action is logged by the tracker</li>
<li>A response is sent to the user</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Messages can be text typed by a human, but can equally well be a button payload, or a message that’s already been interpreted (as you would get from an Amazon Echo). See the section on <a class="reference internal" href="../interpreters/#interpreters"><span class="std std-ref">Interpreters</span></a> for details.</p>
</div>
<p>The steps above are carried out by the <code class="docutils literal notranslate"><span class="pre">Controller</span></code>, which adds messages to a queue as they come in,
and asynchronously works through the message queue to respond to users.
In most cases, you shouldn’t have to worry at all about this, but the details are explained in <span class="xref std std-ref">message_handling</span>.</p>
<p>Now check out the <a class="reference internal" href="../tour/"><span class="doc">A Quick Tour (no ML)</span></a> and <a class="reference internal" href="../tutorial_scratch/"><span class="doc">A Bot From Scratch</span></a>!</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../http/" class="btn btn-neutral float-right" title="Rasa Core as a HTTP server" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../patterns/" class="btn btn-neutral" title="Common Patterns" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rasa Technologies GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 0.6.9
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../0.14.2/index/">0.14.2</a></dd>
            <dd><a href="../../0.14.1/index/">0.14.1</a></dd>
            <dd><a href="../../0.14.0/index/">0.14.0</a></dd>
            <dd><a href="../../0.13.8/index/">0.13.8</a></dd>
            <dd><a href="../../0.13.7/index/">0.13.7</a></dd>
            <dd><a href="../../0.13.6/index/">0.13.6</a></dd>
            <dd><a href="../../0.13.5/index/">0.13.5</a></dd>
            <dd><a href="../../0.13.4/index/">0.13.4</a></dd>
            <dd><a href="../../0.13.3/index/">0.13.3</a></dd>
            <dd><a href="../../0.13.2/index/">0.13.2</a></dd>
            <dd><a href="../../0.13.1/index/">0.13.1</a></dd>
            <dd><a href="../../0.13.0/index/">0.13.0</a></dd>
            <dd><a href="../../0.12.4/index/">0.12.4</a></dd>
            <dd><a href="../../0.12.3/index/">0.12.3</a></dd>
            <dd><a href="../../0.12.2/index/">0.12.2</a></dd>
            <dd><a href="../../0.12.1/index/">0.12.1</a></dd>
            <dd><a href="../../0.12.0/index/">0.12.0</a></dd>
            <dd><a href="../../0.11.12/index/">0.11.12</a></dd>
            <dd><a href="../../0.10.4/index/">0.10.4</a></dd>
            <dd><a href="../../0.9.8/plumbing/">0.9.8</a></dd>
            <dd><a href="../../0.8.6/plumbing/">0.8.6</a></dd>
            <dd><a href="../../0.7.9/plumbing/">0.7.9</a></dd>
            <dd><a href="../../0.6.9/plumbing/">0.6.9</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../master/index/">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.7.0a9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>